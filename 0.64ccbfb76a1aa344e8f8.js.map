{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/animation-86ecfd53.js"],"names":["setStyleProperty","element","propertyName","value","style","setProperty","removeStyleProperty","removeProperty","addClassToArray","classes","className","undefined","classNameToAppend","Array","isArray","keyframeIds","createAnimation","getWebAnimations","webAnimations","onFinish","callback","opts","oneTimeCallback","onFinishOneTimeCallbacks","onFinishCallbacks","push","ani","getFill","_fill","parentAnimation","getDirection","forceDirectionValue","_direction","getEasing","shouldForceLinearEasing","_easing","getDuration","shouldForceSyncPlayback","forceDurationValue","_duration","getIterations","_iterations","getDelay","forceDelayValue","_delay","animationFinish","numAnimationsRunning","addClasses","removeClasses","styles","clearCSSAnimationsTimeout","_afterAddReadFunctions","forEach","_afterAddWriteFunctions","afterAddClasses","afterRemoveClasses","afterStylesValue","elements","el","elementClassList","classList","property","c","add","remove","hasOwnProperty","didComplete","willComplete","onFinishCallback","finished","shouldCalculateNumAnimations","length","afterAnimation","initializeAnimation","toggleAnimationName","_beforeAddReadFunctions","_beforeAddWriteFunctions","beforeAddClasses","beforeRemoveClasses","beforeStylesValue","beforeAnimation","_keyframes","supportsWebAnimations","animation","animate","delay","duration","easing","iterations","fill","direction","pause","onfinish","cleanUpStyleSheets","keyframeRules","keyframes","map","keyframe","offset","frameString","join","stylesheet_1","keyframeName","rootNode","styleContainer","getRootNode","head","existingStylesheet","querySelector","stylesheet","ownerDocument","document","createElement","id","textContent","appendChild","createKeyframeStylesheet","index","indexOf","stylesheets","iterationsCount","Infinity","initializeCSSAnimation","initialized","setAnimationStep","step","Math","min","max","currentTime","effect","getComputedTiming","animationDuration_1","updateCSSAnimation","onAnimationEndFallback","cssAnimationsTimerFallback","from","_a","firstFrame","clearOnFinish","update","deep","childAnimations","updateTiming","pauseAnimation","play","animationDelay","animationDuration","setTimeout","passive","addEventListener","onTransitionEnd","unRegTrans","removeEventListener","ev","target","playCSSAnimations","supportsAnimationEffect","AnimationEffect","window","Element","prototype","cleanUpElements","cancel","parentNode","removeChild","clearTimeout","to","lastFrame","fromTo","fromValue","toValue","parent","playAsync","Promise","resolve","playSync","stop","destroy","childAnimation","keyframeValues","addAnimation","animationToAdd","parentAnim","animationsToAdd","_i","animationsToAdd_1","addElement","nodeType","console","error","i","animationFill","animationDirection","animationIterations","animationEasing","getKeyframes","afterAddRead","readFn","afterAddWrite","writeFn","afterClearStyles","propertyNames","propertyNames_2","afterStyles","afterRemoveClass","afterAddClass","beforeAddRead","beforeAddWrite","beforeClearStyles","propertyNames_1","beforeStyles","beforeRemoveClass","beforeAddClass","progressStart","forceLinearEasing","progressStep","progressEnd","shouldComplete","dur"],"mappings":"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","file":"0.64ccbfb76a1aa344e8f8.js","sourcesContent":["import { __spreadArrays } from \"tslib\";\nimport { r as raf } from './helpers-e0fdb9d0.js';\nvar setStyleProperty = function (element, propertyName, value) {\n    element.style.setProperty(propertyName, value);\n};\nvar removeStyleProperty = function (element, propertyName) {\n    element.style.removeProperty(propertyName);\n};\nvar animationEnd = function (el, callback) {\n    var unRegTrans;\n    var opts = { passive: true };\n    var unregister = function () {\n        if (unRegTrans) {\n            unRegTrans();\n        }\n    };\n    var onTransitionEnd = function (ev) {\n        if (el === ev.target) {\n            unregister();\n            callback(ev);\n        }\n    };\n    if (el) {\n        el.addEventListener('webkitAnimationEnd', onTransitionEnd, opts);\n        el.addEventListener('animationend', onTransitionEnd, opts);\n        unRegTrans = function () {\n            el.removeEventListener('webkitAnimationEnd', onTransitionEnd, opts);\n            el.removeEventListener('animationend', onTransitionEnd, opts);\n        };\n    }\n    return unregister;\n};\nvar generateKeyframeRules = function (keyframes) {\n    if (keyframes === void 0) { keyframes = []; }\n    return keyframes.map(function (keyframe) {\n        var offset = keyframe.offset;\n        var frameString = [];\n        for (var property in keyframe) {\n            if (keyframe.hasOwnProperty(property) && property !== 'offset') {\n                frameString.push(property + \": \" + keyframe[property] + \";\");\n            }\n        }\n        return offset * 100 + \"% { \" + frameString.join(' ') + \" }\";\n    }).join(' ');\n};\nvar keyframeIds = [];\nvar generateKeyframeName = function (keyframeRules) {\n    var index = keyframeIds.indexOf(keyframeRules);\n    if (index < 0) {\n        index = (keyframeIds.push(keyframeRules) - 1);\n    }\n    return \"ion-animation-\" + index;\n};\nvar getStyleContainer = function (element) {\n    var rootNode = element.getRootNode();\n    return (rootNode.head || rootNode);\n};\nvar createKeyframeStylesheet = function (keyframeName, keyframeRules, element) {\n    var styleContainer = getStyleContainer(element);\n    var existingStylesheet = styleContainer.querySelector('#' + keyframeName);\n    if (existingStylesheet) {\n        return existingStylesheet;\n    }\n    var stylesheet = (element.ownerDocument || document).createElement('style');\n    stylesheet.id = keyframeName;\n    stylesheet.textContent = \"@keyframes \" + keyframeName + \" { \" + keyframeRules + \" } @keyframes \" + keyframeName + \"-alt { \" + keyframeRules + \" }\";\n    styleContainer.appendChild(stylesheet);\n    return stylesheet;\n};\nvar addClassToArray = function (classes, className) {\n    if (classes === void 0) { classes = []; }\n    if (className !== undefined) {\n        var classNameToAppend = (Array.isArray(className)) ? className : [className];\n        return __spreadArrays(classes, classNameToAppend);\n    }\n    return classes;\n};\n// TODO: Add more tests. until then, be sure to manually test menu and swipe to go back/routing transitions\nvar createAnimation = function () {\n    var _delay;\n    var _duration;\n    var _easing;\n    var _iterations;\n    var _fill;\n    var _direction;\n    var _keyframes = [];\n    var beforeAddClasses = [];\n    var beforeRemoveClasses = [];\n    var initialized = false;\n    var parentAnimation;\n    var beforeStylesValue = {};\n    var afterAddClasses = [];\n    var afterRemoveClasses = [];\n    var afterStylesValue = {};\n    var numAnimationsRunning = 0;\n    var shouldForceLinearEasing = false;\n    var shouldForceSyncPlayback = false;\n    var cssAnimationsTimerFallback;\n    var forceDirectionValue;\n    var forceDurationValue;\n    var forceDelayValue;\n    var willComplete = true;\n    var finished = false;\n    var shouldCalculateNumAnimations = true;\n    var keyframeName;\n    var ani;\n    var onFinishCallbacks = [];\n    var onFinishOneTimeCallbacks = [];\n    var elements = [];\n    var childAnimations = [];\n    var stylesheets = [];\n    var _beforeAddReadFunctions = [];\n    var _beforeAddWriteFunctions = [];\n    var _afterAddReadFunctions = [];\n    var _afterAddWriteFunctions = [];\n    var webAnimations = [];\n    var supportsAnimationEffect = (typeof AnimationEffect === 'function' || typeof window.AnimationEffect === 'function');\n    var supportsWebAnimations = (typeof Element === 'function') && (typeof Element.prototype.animate === 'function') && supportsAnimationEffect;\n    var ANIMATION_END_FALLBACK_PADDING_MS = 100;\n    /**\n     * Returns the raw Web Animations object\n     * for all elements in an Animation.\n     * This will return an empty array on\n     * browsers that do not support\n     * the Web Animations API.\n     */\n    var getWebAnimations = function () {\n        return webAnimations;\n    };\n    /**\n     * Destroy the animation and all child animations.\n     */\n    var destroy = function () {\n        childAnimations.forEach(function (childAnimation) {\n            childAnimation.destroy();\n        });\n        cleanUp();\n        elements.length = 0;\n        childAnimations.length = 0;\n        _keyframes.length = 0;\n        clearOnFinish();\n        initialized = false;\n        shouldCalculateNumAnimations = true;\n        return ani;\n    };\n    /**\n     * Cancels any Web Animations, removes\n     * any animation properties from the\n     * animation's elements, and removes the\n     * animation's stylesheets from the DOM.\n     */\n    var cleanUp = function () {\n        cleanUpElements();\n        cleanUpStyleSheets();\n    };\n    /**\n     * Add a callback to be run\n     * upon the animation ending\n     */\n    var onFinish = function (callback, opts) {\n        var callbacks = (opts && opts.oneTimeCallback) ? onFinishOneTimeCallbacks : onFinishCallbacks;\n        callbacks.push({ callback: callback, opts: opts });\n        return ani;\n    };\n    /**\n     * Clears all callbacks\n     */\n    var clearOnFinish = function () {\n        onFinishCallbacks.length = 0;\n        onFinishOneTimeCallbacks.length = 0;\n        return ani;\n    };\n    /**\n     * Cancels any Web Animations and removes\n     * any animation properties from the\n     * the animation's elements.\n     */\n    var cleanUpElements = function () {\n        if (supportsWebAnimations) {\n            getWebAnimations().forEach(function (animation) {\n                animation.cancel();\n            });\n            webAnimations.length = 0;\n        }\n        else {\n            elements.forEach(function (element) {\n                raf(function () {\n                    removeStyleProperty(element, 'animation-name');\n                    removeStyleProperty(element, 'animation-duration');\n                    removeStyleProperty(element, 'animation-timing-function');\n                    removeStyleProperty(element, 'animation-iteration-count');\n                    removeStyleProperty(element, 'animation-delay');\n                    removeStyleProperty(element, 'animation-play-state');\n                    removeStyleProperty(element, 'animation-fill-mode');\n                    removeStyleProperty(element, 'animation-direction');\n                });\n            });\n        }\n    };\n    /**\n     * Removes the animation's stylesheets\n     * from the DOM.\n     */\n    var cleanUpStyleSheets = function () {\n        stylesheets.forEach(function (stylesheet) {\n            /**\n             * When sharing stylesheets, it's possible\n             * for another animation to have already\n             * cleaned up a particular stylesheet\n             */\n            if (stylesheet && stylesheet.parentNode) {\n                stylesheet.parentNode.removeChild(stylesheet);\n            }\n        });\n        stylesheets.length = 0;\n    };\n    /**\n     * Add a function that performs a\n     * DOM read to be run before the\n     * animation starts\n     */\n    var beforeAddRead = function (readFn) {\n        _beforeAddReadFunctions.push(readFn);\n        return ani;\n    };\n    /**\n     * Add a function that performs a\n     * DOM write to be run before the\n     * animation starts\n     */\n    var beforeAddWrite = function (writeFn) {\n        _beforeAddWriteFunctions.push(writeFn);\n        return ani;\n    };\n    /**\n     * Add a function that performs a\n     * DOM read to be run after the\n     * animation end\n     */\n    var afterAddRead = function (readFn) {\n        _afterAddReadFunctions.push(readFn);\n        return ani;\n    };\n    /**\n     * Add a function that performs a\n     * DOM write to be run after the\n     * animation end\n     */\n    var afterAddWrite = function (writeFn) {\n        _afterAddWriteFunctions.push(writeFn);\n        return ani;\n    };\n    /**\n     * Add a class to the animation's\n     * elements before the animation starts\n     */\n    var beforeAddClass = function (className) {\n        beforeAddClasses = addClassToArray(beforeAddClasses, className);\n        return ani;\n    };\n    /**\n     * Remove a class from the animation's\n     * elements before the animation starts\n     */\n    var beforeRemoveClass = function (className) {\n        beforeRemoveClasses = addClassToArray(beforeRemoveClasses, className);\n        return ani;\n    };\n    /**\n     * Set CSS inline styles to the animation's\n     * elements before the animation begins.\n     */\n    var beforeStyles = function (styles) {\n        if (styles === void 0) { styles = {}; }\n        beforeStylesValue = styles;\n        return ani;\n    };\n    /**\n     * Clear CSS inline styles from the animation's\n     * elements before the animation begins.\n     */\n    var beforeClearStyles = function (propertyNames) {\n        if (propertyNames === void 0) { propertyNames = []; }\n        for (var _i = 0, propertyNames_1 = propertyNames; _i < propertyNames_1.length; _i++) {\n            var property = propertyNames_1[_i];\n            beforeStylesValue[property] = '';\n        }\n        return ani;\n    };\n    /**\n     * Add CSS class to the animation's\n     * elements after the animation ends.\n     */\n    var afterAddClass = function (className) {\n        afterAddClasses = addClassToArray(afterAddClasses, className);\n        return ani;\n    };\n    /**\n     * Remove CSS class from the animation's\n     * elements after the animation ends.\n     */\n    var afterRemoveClass = function (className) {\n        afterRemoveClasses = addClassToArray(afterRemoveClasses, className);\n        return ani;\n    };\n    /**\n     * Set CSS inline styles to the animation's\n     * elements after the animation ends.\n     */\n    var afterStyles = function (styles) {\n        if (styles === void 0) { styles = {}; }\n        afterStylesValue = styles;\n        return ani;\n    };\n    /**\n     * Clear CSS inline styles from the animation's\n     * elements after the animation ends.\n     */\n    var afterClearStyles = function (propertyNames) {\n        if (propertyNames === void 0) { propertyNames = []; }\n        for (var _i = 0, propertyNames_2 = propertyNames; _i < propertyNames_2.length; _i++) {\n            var property = propertyNames_2[_i];\n            afterStylesValue[property] = '';\n        }\n        return ani;\n    };\n    /**\n     * Returns the animation's fill mode.\n     */\n    var getFill = function () {\n        if (_fill !== undefined) {\n            return _fill;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getFill();\n        }\n        return 'both';\n    };\n    /**\n     * Returns the animation's direction.\n     */\n    var getDirection = function () {\n        if (forceDirectionValue !== undefined) {\n            return forceDirectionValue;\n        }\n        if (_direction !== undefined) {\n            return _direction;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getDirection();\n        }\n        return 'normal';\n    };\n    /**\n     * Returns the animation's easing.\n     */\n    var getEasing = function () {\n        if (shouldForceLinearEasing) {\n            return 'linear';\n        }\n        if (_easing !== undefined) {\n            return _easing;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getEasing();\n        }\n        return 'linear';\n    };\n    /**\n     * Gets the animation's duration in milliseconds.\n     */\n    var getDuration = function () {\n        if (shouldForceSyncPlayback) {\n            return 0;\n        }\n        if (forceDurationValue !== undefined) {\n            return forceDurationValue;\n        }\n        if (_duration !== undefined) {\n            return _duration;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getDuration();\n        }\n        return 0;\n    };\n    /**\n     * Gets the number of iterations the animation will run.\n     */\n    var getIterations = function () {\n        if (_iterations !== undefined) {\n            return _iterations;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getIterations();\n        }\n        return 1;\n    };\n    /**\n     * Gets the animation's delay in milliseconds.\n     */\n    var getDelay = function () {\n        if (forceDelayValue !== undefined) {\n            return forceDelayValue;\n        }\n        if (_delay !== undefined) {\n            return _delay;\n        }\n        if (parentAnimation) {\n            return parentAnimation.getDelay();\n        }\n        return 0;\n    };\n    /**\n     * Get an array of keyframes for the animation.\n     */\n    var getKeyframes = function () {\n        return _keyframes;\n    };\n    /**\n     * Sets whether the animation should play forwards,\n     * backwards, or alternating back and forth.\n     */\n    var direction = function (animationDirection) {\n        _direction = animationDirection;\n        update(true);\n        return ani;\n    };\n    /**\n     * Sets how the animation applies styles to its\n     * elements before and after the animation's execution.\n     */\n    var fill = function (animationFill) {\n        _fill = animationFill;\n        update(true);\n        return ani;\n    };\n    /**\n     * Sets when an animation starts (in milliseconds).\n     */\n    var delay = function (animationDelay) {\n        _delay = animationDelay;\n        update(true);\n        return ani;\n    };\n    /**\n     * Sets how the animation progresses through the\n     * duration of each cycle.\n     */\n    var easing = function (animationEasing) {\n        _easing = animationEasing;\n        update(true);\n        return ani;\n    };\n    /**\n     * Sets the length of time the animation takes\n     * to complete one cycle.\n     */\n    var duration = function (animationDuration) {\n        /**\n         * CSS Animation Durations of 0ms work fine on Chrome\n         * but do not run on Safari, so force it to 1ms to\n         * get it to run on both platforms.\n         */\n        if (!supportsWebAnimations && animationDuration === 0) {\n            animationDuration = 1;\n        }\n        _duration = animationDuration;\n        update(true);\n        return ani;\n    };\n    /**\n     * Sets the number of times the animation cycle\n     * should be played before stopping.\n     */\n    var iterations = function (animationIterations) {\n        _iterations = animationIterations;\n        update(true);\n        return ani;\n    };\n    /**\n     * Sets the parent animation.\n     */\n    var parent = function (animation) {\n        parentAnimation = animation;\n        return ani;\n    };\n    /**\n     * Add one or more elements to the animation\n     */\n    var addElement = function (el) {\n        if (el != null) {\n            if (el.nodeType === 1) {\n                elements.push(el);\n            }\n            else if (el.length >= 0) {\n                for (var i = 0; i < el.length; i++) {\n                    elements.push(el[i]);\n                }\n            }\n            else {\n                console.error('Invalid addElement value');\n            }\n        }\n        return ani;\n    };\n    /**\n     * Group one or more animations together to be controlled by a parent animation.\n     */\n    var addAnimation = function (animationToAdd) {\n        if (animationToAdd != null) {\n            var parentAnim = ani;\n            var animationsToAdd = animationToAdd;\n            if (animationsToAdd.length >= 0) {\n                for (var _i = 0, animationsToAdd_1 = animationsToAdd; _i < animationsToAdd_1.length; _i++) {\n                    var animation = animationsToAdd_1[_i];\n                    animation.parent(parentAnim);\n                    childAnimations.push(animation);\n                }\n            }\n            else {\n                animationToAdd.parent(parentAnim);\n                childAnimations.push(animationToAdd);\n            }\n        }\n        return ani;\n    };\n    /**\n     * Set the keyframes for the animation.\n     */\n    var keyframes = function (keyframeValues) {\n        _keyframes = keyframeValues;\n        return ani;\n    };\n    /**\n     * Runs all before read callbacks\n     */\n    var runBeforeRead = function () {\n        _beforeAddReadFunctions.forEach(function (callback) {\n            callback();\n        });\n    };\n    /**\n     * Runs all before write callbacks\n     */\n    var runBeforeWrite = function () {\n        _beforeAddWriteFunctions.forEach(function (callback) {\n            callback();\n        });\n    };\n    /**\n     * Updates styles and classes before animation runs\n     */\n    var runBeforeStyles = function () {\n        var addClasses = beforeAddClasses;\n        var removeClasses = beforeRemoveClasses;\n        var styles = beforeStylesValue;\n        elements.forEach(function (el) {\n            var elementClassList = el.classList;\n            addClasses.forEach(function (c) { return elementClassList.add(c); });\n            removeClasses.forEach(function (c) { return elementClassList.remove(c); });\n            for (var property in styles) {\n                if (styles.hasOwnProperty(property)) {\n                    setStyleProperty(el, property, styles[property]);\n                }\n            }\n        });\n    };\n    /**\n     * Run all \"before\" animation hooks.\n     */\n    var beforeAnimation = function () {\n        runBeforeRead();\n        runBeforeWrite();\n        runBeforeStyles();\n    };\n    /**\n     * Runs all after read callbacks\n     */\n    var runAfterRead = function () {\n        _afterAddReadFunctions.forEach(function (callback) {\n            callback();\n        });\n    };\n    /**\n     * Runs all after write callbacks\n     */\n    var runAfterWrite = function () {\n        _afterAddWriteFunctions.forEach(function (callback) {\n            callback();\n        });\n    };\n    /**\n     * Updates styles and classes before animation ends\n     */\n    var runAfterStyles = function () {\n        var addClasses = afterAddClasses;\n        var removeClasses = afterRemoveClasses;\n        var styles = afterStylesValue;\n        elements.forEach(function (el) {\n            var elementClassList = el.classList;\n            addClasses.forEach(function (c) { return elementClassList.add(c); });\n            removeClasses.forEach(function (c) { return elementClassList.remove(c); });\n            for (var property in styles) {\n                if (styles.hasOwnProperty(property)) {\n                    setStyleProperty(el, property, styles[property]);\n                }\n            }\n        });\n    };\n    /**\n     * Run all \"after\" animation hooks.\n     */\n    var afterAnimation = function () {\n        clearCSSAnimationsTimeout();\n        runAfterRead();\n        runAfterWrite();\n        runAfterStyles();\n        var didComplete = willComplete;\n        onFinishCallbacks.forEach(function (onFinishCallback) {\n            onFinishCallback.callback(didComplete, ani);\n        });\n        onFinishOneTimeCallbacks.forEach(function (onFinishCallback) {\n            onFinishCallback.callback(didComplete, ani);\n        });\n        onFinishOneTimeCallbacks.length = 0;\n        shouldCalculateNumAnimations = true;\n        finished = true;\n    };\n    var animationFinish = function () {\n        if (numAnimationsRunning === 0) {\n            return;\n        }\n        numAnimationsRunning--;\n        if (numAnimationsRunning === 0) {\n            afterAnimation();\n            if (parentAnimation) {\n                parentAnimation.animationFinish();\n            }\n        }\n    };\n    var initializeCSSAnimation = function (toggleAnimationName) {\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        cleanUpStyleSheets();\n        elements.forEach(function (element) {\n            if (_keyframes.length > 0) {\n                var keyframeRules = generateKeyframeRules(_keyframes);\n                keyframeName = generateKeyframeName(keyframeRules);\n                var stylesheet_1 = createKeyframeStylesheet(keyframeName, keyframeRules, element);\n                stylesheets.push(stylesheet_1);\n                setStyleProperty(element, 'animation-duration', (getDuration() !== undefined) ? getDuration() + \"ms\" : null);\n                setStyleProperty(element, 'animation-timing-function', getEasing() || null);\n                setStyleProperty(element, 'animation-delay', (getDelay() !== undefined) ? getDelay() + \"ms\" : null);\n                setStyleProperty(element, 'animation-fill-mode', getFill() || null);\n                setStyleProperty(element, 'animation-direction', getDirection() || null);\n                var iterationsCount = (getIterations() !== undefined) ?\n                    (getIterations() === Infinity) ? 'infinite' : getIterations().toString()\n                    : null;\n                setStyleProperty(element, 'animation-iteration-count', iterationsCount);\n                setStyleProperty(element, 'animation-play-state', 'paused');\n                if (toggleAnimationName) {\n                    setStyleProperty(element, 'animation-name', stylesheet_1.id + \"-alt\");\n                }\n                raf(function () {\n                    setStyleProperty(element, 'animation-name', stylesheet_1.id || null);\n                });\n            }\n        });\n    };\n    var initializeWebAnimation = function () {\n        elements.forEach(function (element) {\n            var animation = element.animate(_keyframes, {\n                delay: getDelay(),\n                duration: getDuration(),\n                easing: getEasing(),\n                iterations: getIterations(),\n                fill: getFill(),\n                direction: getDirection()\n            });\n            animation.pause();\n            webAnimations.push(animation);\n        });\n        if (getWebAnimations().length > 0) {\n            webAnimations[0].onfinish = function () {\n                animationFinish();\n            };\n        }\n    };\n    var initializeAnimation = function (toggleAnimationName) {\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        beforeAnimation();\n        if (_keyframes.length > 0) {\n            if (supportsWebAnimations) {\n                initializeWebAnimation();\n            }\n            else {\n                initializeCSSAnimation(toggleAnimationName);\n            }\n        }\n        initialized = true;\n    };\n    var setAnimationStep = function (step) {\n        step = Math.min(Math.max(step, 0), 0.999);\n        if (supportsWebAnimations) {\n            getWebAnimations().forEach(function (animation) {\n                animation.currentTime = animation.effect.getComputedTiming().delay + (getDuration() * step);\n                animation.pause();\n            });\n        }\n        else {\n            var animationDelay = getDelay() || 0;\n            var animationDuration_1 = \"-\" + (animationDelay + (getDuration() * step)) + \"ms\";\n            elements.forEach(function (element) {\n                if (_keyframes.length > 0) {\n                    setStyleProperty(element, 'animation-delay', animationDuration_1);\n                    setStyleProperty(element, 'animation-play-state', 'paused');\n                }\n            });\n        }\n    };\n    var updateWebAnimation = function () {\n        getWebAnimations().forEach(function (animation) {\n            animation.effect.updateTiming({\n                delay: getDelay(),\n                duration: getDuration(),\n                easing: getEasing(),\n                iterations: getIterations(),\n                fill: getFill(),\n                direction: getDirection()\n            });\n        });\n    };\n    var updateCSSAnimation = function (toggleAnimationName) {\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        elements.forEach(function (element) {\n            raf(function () {\n                setStyleProperty(element, 'animation-name', keyframeName || null);\n                setStyleProperty(element, 'animation-duration', (getDuration() !== undefined) ? getDuration() + \"ms\" : null);\n                setStyleProperty(element, 'animation-timing-function', getEasing() || null);\n                setStyleProperty(element, 'animation-delay', (getDelay() !== undefined) ? getDelay() + \"ms\" : null);\n                setStyleProperty(element, 'animation-fill-mode', getFill() || null);\n                setStyleProperty(element, 'animation-direction', getDirection() || null);\n                var iterationsCount = (getIterations() !== undefined) ?\n                    (getIterations() === Infinity) ? 'infinite' : getIterations().toString()\n                    : null;\n                setStyleProperty(element, 'animation-iteration-count', iterationsCount);\n                if (toggleAnimationName) {\n                    setStyleProperty(element, 'animation-name', keyframeName + \"-alt\");\n                }\n                raf(function () {\n                    setStyleProperty(element, 'animation-name', keyframeName || null);\n                });\n            });\n        });\n    };\n    /**\n     * Updates any existing animations.\n     */\n    var update = function (deep, toggleAnimationName) {\n        if (deep === void 0) { deep = false; }\n        if (toggleAnimationName === void 0) { toggleAnimationName = true; }\n        if (deep) {\n            childAnimations.forEach(function (animation) {\n                animation.update(deep);\n            });\n        }\n        if (supportsWebAnimations) {\n            updateWebAnimation();\n        }\n        else {\n            updateCSSAnimation(toggleAnimationName);\n        }\n        return ani;\n    };\n    var progressStart = function (forceLinearEasing) {\n        if (forceLinearEasing === void 0) { forceLinearEasing = false; }\n        childAnimations.forEach(function (animation) {\n            animation.progressStart(forceLinearEasing);\n        });\n        pauseAnimation();\n        shouldForceLinearEasing = forceLinearEasing;\n        if (!initialized) {\n            initializeAnimation();\n        }\n        else {\n            update();\n            setAnimationStep(0);\n        }\n        return ani;\n    };\n    var progressStep = function (step) {\n        childAnimations.forEach(function (animation) {\n            animation.progressStep(step);\n        });\n        if (getDuration() !== undefined) {\n            setAnimationStep(step);\n        }\n        return ani;\n    };\n    var progressEnd = function (shouldComplete, step, dur) {\n        shouldForceLinearEasing = false;\n        childAnimations.forEach(function (animation) {\n            animation.progressEnd(shouldComplete, step, dur);\n        });\n        if (dur !== undefined) {\n            forceDurationValue = dur;\n        }\n        finished = false;\n        willComplete = shouldComplete;\n        if (!shouldComplete) {\n            forceDirectionValue = (getDirection() === 'reverse') ? 'normal' : 'reverse';\n            if (supportsWebAnimations) {\n                update();\n                setAnimationStep(1 - step);\n            }\n            else {\n                forceDelayValue = ((1 - step) * getDuration()) * -1;\n                update(false, false);\n            }\n        }\n        else {\n            if (!supportsWebAnimations) {\n                forceDelayValue = (step * getDuration()) * -1;\n                update(false, false);\n            }\n        }\n        onFinish(function () {\n            willComplete = true;\n            forceDurationValue = undefined;\n            forceDirectionValue = undefined;\n            forceDelayValue = undefined;\n        }, {\n            oneTimeCallback: true\n        });\n        if (!parentAnimation) {\n            play();\n        }\n        return ani;\n    };\n    var pauseAnimation = function () {\n        if (initialized) {\n            if (supportsWebAnimations) {\n                getWebAnimations().forEach(function (animation) {\n                    animation.pause();\n                });\n            }\n            else {\n                elements.forEach(function (element) {\n                    setStyleProperty(element, 'animation-play-state', 'paused');\n                });\n            }\n        }\n    };\n    /**\n     * Pause the animation.\n     */\n    var pause = function () {\n        childAnimations.forEach(function (animation) {\n            animation.pause();\n        });\n        pauseAnimation();\n        return ani;\n    };\n    /**\n     * Play the animation asynchronously.\n     * This returns a promise that resolves\n     * when the animation has ended.\n     */\n    var playAsync = function () {\n        return new Promise(function (resolve) {\n            onFinish(resolve, { oneTimeCallback: true });\n            play();\n            return ani;\n        });\n    };\n    /**\n     * Play the animation synchronously. This\n     * is the equivalent of running the animation\n     * with a duration of 0ms.\n     */\n    var playSync = function () {\n        shouldForceSyncPlayback = true;\n        onFinish(function () { return shouldForceSyncPlayback = false; }, { oneTimeCallback: true });\n        play();\n        return ani;\n    };\n    var onAnimationEndFallback = function () {\n        cssAnimationsTimerFallback = undefined;\n        animationFinish();\n    };\n    var clearCSSAnimationsTimeout = function () {\n        if (cssAnimationsTimerFallback) {\n            clearTimeout(cssAnimationsTimerFallback);\n        }\n    };\n    var playCSSAnimations = function () {\n        clearCSSAnimationsTimeout();\n        elements.forEach(function (element) {\n            if (_keyframes.length > 0) {\n                raf(function () {\n                    setStyleProperty(element, 'animation-play-state', 'running');\n                });\n            }\n        });\n        if (_keyframes.length === 0 || elements.length === 0) {\n            animationFinish();\n        }\n        else {\n            /**\n             * This is a catchall in the event that a CSS Animation did not finish.\n             * The Web Animations API has mechanisms in place for preventing this.\n             * CSS Animations will not fire an `animationend` event\n             * for elements with `display: none`. The Web Animations API\n             * accounts for this, but using raw CSS Animations requires\n             * this workaround.\n             */\n            var animationDelay = getDelay() || 0;\n            var animationDuration = getDuration() || 0;\n            cssAnimationsTimerFallback = setTimeout(onAnimationEndFallback, animationDelay + animationDuration + ANIMATION_END_FALLBACK_PADDING_MS);\n            animationEnd(elements[0], function () {\n                clearCSSAnimationsTimeout();\n                /**\n                 * Ensure that clean up\n                 * is always done a frame\n                 * before the onFinish handlers\n                 * are fired. Otherwise, there\n                 * may be flickering if a new\n                 * animation is started on the same\n                 * element too quickly\n                 *\n                 * TODO: Is there a cleaner way to do this?\n                 */\n                raf(function () {\n                    clearCSSAnimationPlayState();\n                    raf(animationFinish);\n                });\n            });\n        }\n    };\n    var clearCSSAnimationPlayState = function () {\n        elements.forEach(function (element) {\n            removeStyleProperty(element, 'animation-duration');\n            removeStyleProperty(element, 'animation-delay');\n            removeStyleProperty(element, 'animation-play-state');\n        });\n    };\n    var playWebAnimations = function () {\n        getWebAnimations().forEach(function (animation) {\n            animation.play();\n        });\n        if (_keyframes.length === 0 || elements.length === 0) {\n            animationFinish();\n        }\n    };\n    var resetAnimation = function () {\n        if (supportsWebAnimations) {\n            setAnimationStep(0);\n        }\n        else {\n            updateCSSAnimation();\n        }\n    };\n    /**\n     * Play the animation\n     */\n    var play = function () {\n        if (!initialized) {\n            initializeAnimation();\n        }\n        if (finished) {\n            resetAnimation();\n            finished = false;\n        }\n        if (shouldCalculateNumAnimations) {\n            numAnimationsRunning = childAnimations.length + 1;\n            shouldCalculateNumAnimations = false;\n        }\n        childAnimations.forEach(function (animation) {\n            animation.play();\n        });\n        if (supportsWebAnimations) {\n            playWebAnimations();\n        }\n        else {\n            playCSSAnimations();\n        }\n        return ani;\n    };\n    /**\n     * Stop the animation and reset\n     * all elements to their initial state\n     */\n    var stop = function () {\n        childAnimations.forEach(function (animation) {\n            animation.stop();\n        });\n        if (initialized) {\n            cleanUpElements();\n            initialized = false;\n        }\n        return ani;\n    };\n    var from = function (property, value) {\n        var _a;\n        var firstFrame = _keyframes[0];\n        if (firstFrame != null && (firstFrame.offset === undefined || firstFrame.offset === 0)) {\n            firstFrame[property] = value;\n        }\n        else {\n            _keyframes = __spreadArrays([\n                (_a = { offset: 0 }, _a[property] = value, _a)\n            ], _keyframes);\n        }\n        return ani;\n    };\n    var to = function (property, value) {\n        var _a;\n        var lastFrame = _keyframes[_keyframes.length - 1];\n        if (lastFrame != null && (lastFrame.offset === undefined || lastFrame.offset === 1)) {\n            lastFrame[property] = value;\n        }\n        else {\n            _keyframes = __spreadArrays(_keyframes, [\n                (_a = { offset: 1 }, _a[property] = value, _a)\n            ]);\n        }\n        return ani;\n    };\n    var fromTo = function (property, fromValue, toValue) {\n        return from(property, fromValue).to(property, toValue);\n    };\n    return ani = {\n        parentAnimation: parentAnimation,\n        elements: elements,\n        childAnimations: childAnimations,\n        animationFinish: animationFinish,\n        from: from,\n        to: to,\n        fromTo: fromTo,\n        parent: parent,\n        play: play,\n        playAsync: playAsync,\n        playSync: playSync,\n        pause: pause,\n        stop: stop,\n        destroy: destroy,\n        keyframes: keyframes,\n        addAnimation: addAnimation,\n        addElement: addElement,\n        update: update,\n        fill: fill,\n        direction: direction,\n        iterations: iterations,\n        duration: duration,\n        easing: easing,\n        delay: delay,\n        getWebAnimations: getWebAnimations,\n        getKeyframes: getKeyframes,\n        getFill: getFill,\n        getDirection: getDirection,\n        getDelay: getDelay,\n        getIterations: getIterations,\n        getEasing: getEasing,\n        getDuration: getDuration,\n        afterAddRead: afterAddRead,\n        afterAddWrite: afterAddWrite,\n        afterClearStyles: afterClearStyles,\n        afterStyles: afterStyles,\n        afterRemoveClass: afterRemoveClass,\n        afterAddClass: afterAddClass,\n        beforeAddRead: beforeAddRead,\n        beforeAddWrite: beforeAddWrite,\n        beforeClearStyles: beforeClearStyles,\n        beforeStyles: beforeStyles,\n        beforeRemoveClass: beforeRemoveClass,\n        beforeAddClass: beforeAddClass,\n        onFinish: onFinish,\n        clearOnFinish: clearOnFinish,\n        progressStart: progressStart,\n        progressStep: progressStep,\n        progressEnd: progressEnd\n    };\n};\nexport { createAnimation as c };\n"],"sourceRoot":""}