{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm-es5/cubic-bezier-fc4a068b.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/index-1eb2699f.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/theme-18cbe2cc.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/helpers-e0fdb9d0.js","webpack:///./node_modules/@ionic/core/dist/esm-es5/index-624eea58.js"],"names":["Point","x","y","this","getTimeGivenProgression","p0","p1","p2","p3","progression","tValues","solveCubicBezier","solveCubicParametricEquation","t","Math","pow","refPoint","solveCubicEquation","filter","root","a","b","c","d","discriminant","sqrt","p","q","r","phi","acos","s","cos","PI","baseAnimation","easing","duration","menuOverlayAnimation","menu","closedX","openedX","width","menuAnimation","backdropAnimation","isEndSide","addElement","menuInnerEl","fromTo","backdropEl","addAnimation","menuPushAnimation","contentOpenedX","menuClosedX","contentAnimation","contentEl","menuRevealAnimation","contentOpen","menuController","registerAnimation","name","animation","menuAnimations","set","get","menuRef","menuEl","_a","label","waitUntilReady","sent","find","m","side","disabled","menuId","menus","length","el","undefined","getOpen","_getOpenSync","_setActiveMenu","forEach","isAnimatingSync","some","isAnimating","Map","_isOpen","predicate","instance","Promise","all","Array","from","document","querySelectorAll","map","componentOnReady","getMenus","isEnabled","swipeGesture","shouldEnable","isOpen","enable","toggle","close","open","_createAnimation","type","menuCmp","animationBuilder","Error","_register","indexOf","push","_unregister","index","splice","_setOpen","shouldOpen","animated","openedMenu","setOpen","createMenuController","hostContext","selector","closest","createColorClasses","color","getClassMap","classes","isArray","split","trim","SCHEME","openURL","url","ev","direction","router","test","querySelector","preventDefault","raf","h","__zone_symbol__requestAnimationFrame","requestAnimationFrame","setTimeout","rIC","callback","window","requestIdleCallback","hasShadowDom","shadowRoot","attachShadow","findItemLabel","componentEl","itemEl","renderHiddenInput","always","container","value","input","ownerDocument","createElement","classList","add","appendChild","clamp","min","n","max","assert","actual","reason","message","console","error","now","timeStamp","Date","pointerCoord","changedTouches","touch","clientX","clientY","pageX","pageY","isRTL","dir","debounceEvent","event","wait","original","_original","emit","debounce","bind","func","timer","args","_i","arguments","clearTimeout","apply","GestureController","prototype","createGesture","config","GestureDelegate","newID","priority","disableScroll","createBlocker","opts","BlockerDelegate","disable","start","gestureName","id","canStart","requestedStart","delete","capture","maxPriority","capturedId","clear","CustomEvent","detail","dispatchEvent","release","disableGesture","disabledGestures","Set","enableGesture","disabledScroll","size","body","BACKDROP_NO_SCROLL","enableScroll","remove","isDisabled","isCaptured","isScrollDisabled","gestureId","ctrl","captured","destroy","block","unblock","addEventListener","eventName","listenerOpts","supportsPassive","passive","getDocument","node","Document","_sPassive","GESTURE_CONTROLLER","Object","defineProperty","e","reset","hasFiredStart","isMoveQueued","hasStartedPan","hasCapturedPan","gesture","pointerUp","tmpHasCaptured","tmpHasFiredStart","calcGestureData","onEnd","notCaptured","fireOnMove","onMove","tryToCapturePan","startX","currentX","startY","currentY","startTimeStamp","onWillStart","then","fireOnStart","pointerDown","pointerMove","options","rmTouchStart","rmTouchMove","rmTouchEnd","rmTouchCancel","rmMouseStart","rmMouseMove","rmMouseUp","lastTouchEvent","handleTouchEnd","handleMouseUp","stopTouch","stopMouse","thresh","isDirX","maxCosine","threshold","dirty","isPan","finalConfig","assign","gesturePriority","maxAngle","onStart","velocityX","velocityY","deltaX","deltaY","data","pan","detect","distance","cosine","isGesture","getDirection","pointerEvents","updateDetail","abortGesture","setDisabled","stop","handleTouchStart","handleMouseDown","prevX","prevY","prevT","timeDelta"],"mappings":"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","file":"3.6cee6f888b681c8b7067.js","sourcesContent":["/**\n * Based on:\n * https://stackoverflow.com/questions/7348009/y-coordinate-for-a-given-x-cubic-bezier\n * https://math.stackexchange.com/questions/26846/is-there-an-explicit-form-for-cubic-b%C3%A9zier-curves\n * TODO: Reduce rounding error\n */\nvar Point = /** @class */ (function () {\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return Point;\n}());\n/**\n * Given a cubic-bezier curve, get the x value (time) given\n * the y value (progression).\n * Ex: cubic-bezier(0.32, 0.72, 0, 1);\n * P0: (0, 0)\n * P1: (0.32, 0.72)\n * P2: (0, 1)\n * P3: (1, 1)\n */\nvar getTimeGivenProgression = function (p0, p1, p2, p3, progression) {\n    var tValues = solveCubicBezier(p0.y, p1.y, p2.y, p3.y, progression);\n    return solveCubicParametricEquation(p0.x, p1.x, p2.x, p3.x, tValues[0]); // TODO: Add better strategy for dealing with multiple solutions\n};\n/**\n * Solve a cubic equation in one dimension (time)\n */\nvar solveCubicParametricEquation = function (p0, p1, p2, p3, t) {\n    var partA = (3 * p1) * Math.pow(t - 1, 2);\n    var partB = (-3 * p2 * t) + (3 * p2) + (p3 * t);\n    var partC = p0 * Math.pow(t - 1, 3);\n    return t * (partA + (t * partB)) - partC;\n};\n/**\n * Find the `t` value for a cubic bezier using Cardano's formula\n */\nvar solveCubicBezier = function (p0, p1, p2, p3, refPoint) {\n    p0 -= refPoint;\n    p1 -= refPoint;\n    p2 -= refPoint;\n    p3 -= refPoint;\n    var roots = solveCubicEquation(p3 - 3 * p2 + 3 * p1 - p0, 3 * p2 - 6 * p1 + 3 * p0, 3 * p1 - 3 * p0, p0);\n    return roots.filter(function (root) { return root >= 0 && root <= 1; });\n};\nvar solveQuadraticEquation = function (a, b, c) {\n    var discriminant = b * b - 4 * a * c;\n    if (discriminant < 0) {\n        return [];\n    }\n    else {\n        return [\n            (-b + Math.sqrt(discriminant)) / (2 * a),\n            (-b - Math.sqrt(discriminant)) / (2 * a)\n        ];\n    }\n};\nvar solveCubicEquation = function (a, b, c, d) {\n    if (a === 0) {\n        return solveQuadraticEquation(b, c, d);\n    }\n    b /= a;\n    c /= a;\n    d /= a;\n    var p = (3 * c - b * b) / 3;\n    var q = (2 * b * b * b - 9 * b * c + 27 * d) / 27;\n    if (p === 0) {\n        return [Math.pow(-q, 1 / 3)];\n    }\n    else if (q === 0) {\n        return [Math.sqrt(-p), -Math.sqrt(-p)];\n    }\n    var discriminant = Math.pow(q / 2, 2) + Math.pow(p / 3, 3);\n    if (discriminant === 0) {\n        return [Math.pow(q / 2, 1 / 2) - b / 3];\n    }\n    else if (discriminant > 0) {\n        return [Math.pow(-(q / 2) + Math.sqrt(discriminant), 1 / 3) - Math.pow((q / 2) + Math.sqrt(discriminant), 1 / 3) - b / 3];\n    }\n    var r = Math.sqrt(Math.pow(-(p / 3), 3));\n    var phi = Math.acos(-(q / (2 * Math.sqrt(Math.pow(-(p / 3), 3)))));\n    var s = 2 * Math.pow(r, 1 / 3);\n    return [\n        s * Math.cos(phi / 3) - b / 3,\n        s * Math.cos((phi + 2 * Math.PI) / 3) - b / 3,\n        s * Math.cos((phi + 4 * Math.PI) / 3) - b / 3\n    ];\n};\nexport { Point as P, getTimeGivenProgression as g };\n","import { __awaiter, __generator } from \"tslib\";\nimport { c as createAnimation } from './animation-86ecfd53.js';\n/**\n * baseAnimation\n * Base class which is extended by the various types. Each\n * type will provide their own animations for open and close\n * and registers itself with Menu.\n */\nvar baseAnimation = function () {\n    // https://material.io/guidelines/motion/movement.html#movement-movement-in-out-of-screen-bounds\n    // https://material.io/guidelines/motion/duration-easing.html#duration-easing-natural-easing-curves\n    // \"Apply the sharp curve to items temporarily leaving the screen that may return\n    // from the same exit point. When they return, use the deceleration curve. On mobile,\n    // this transition typically occurs over 300ms\" -- MD Motion Guide\n    return createAnimation()\n        .easing('cubic-bezier(0.0, 0.0, 0.2, 1)') // Deceleration curve (Entering the screen)\n        .duration(300);\n};\n/**\n * Menu Overlay Type\n * The menu slides over the content. The content\n * itself, which is under the menu, does not move.\n */\nvar menuOverlayAnimation = function (menu) {\n    var closedX;\n    var openedX;\n    var BOX_SHADOW_WIDTH = 8;\n    var width = menu.width + BOX_SHADOW_WIDTH;\n    var menuAnimation = createAnimation();\n    var backdropAnimation = createAnimation();\n    if (menu.isEndSide) {\n        // right side\n        closedX = width + 'px';\n        openedX = '0px';\n    }\n    else {\n        // left side\n        closedX = -width + 'px';\n        openedX = '0px';\n    }\n    menuAnimation\n        .addElement(menu.menuInnerEl)\n        .fromTo('transform', \"translateX(\" + closedX + \")\", \"translateX(\" + openedX + \")\");\n    backdropAnimation\n        .addElement(menu.backdropEl)\n        .fromTo('opacity', 0.01, 0.32);\n    return baseAnimation().addAnimation([menuAnimation, backdropAnimation]);\n};\n/**\n * Menu Push Type\n * The content slides over to reveal the menu underneath.\n * The menu itself also slides over to reveal its bad self.\n */\nvar menuPushAnimation = function (menu) {\n    var contentOpenedX;\n    var menuClosedX;\n    var width = menu.width;\n    if (menu.isEndSide) {\n        contentOpenedX = -width + 'px';\n        menuClosedX = width + 'px';\n    }\n    else {\n        contentOpenedX = width + 'px';\n        menuClosedX = -width + 'px';\n    }\n    var menuAnimation = createAnimation()\n        .addElement(menu.menuInnerEl)\n        .fromTo('transform', \"translateX(\" + menuClosedX + \")\", 'translateX(0px)');\n    var contentAnimation = createAnimation()\n        .addElement(menu.contentEl)\n        .fromTo('transform', 'translateX(0px)', \"translateX(\" + contentOpenedX + \")\");\n    var backdropAnimation = createAnimation()\n        .addElement(menu.backdropEl)\n        .fromTo('opacity', 0.01, 0.32);\n    return baseAnimation().addAnimation([menuAnimation, backdropAnimation, contentAnimation]);\n};\n/**\n * Menu Reveal Type\n * The content slides over to reveal the menu underneath.\n * The menu itself, which is under the content, does not move.\n */\nvar menuRevealAnimation = function (menu) {\n    var openedX = (menu.width * (menu.isEndSide ? -1 : 1)) + 'px';\n    var contentOpen = createAnimation()\n        .addElement(menu.contentEl)\n        .fromTo('transform', 'translateX(0px)', \"translateX(\" + openedX + \")\");\n    return baseAnimation().addAnimation(contentOpen);\n};\nvar createMenuController = function () {\n    var menuAnimations = new Map();\n    var menus = [];\n    var open = function (menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, get(menu)];\n                case 1:\n                    menuEl = _a.sent();\n                    if (menuEl) {\n                        return [2 /*return*/, menuEl.open()];\n                    }\n                    return [2 /*return*/, false];\n            }\n        });\n    }); };\n    var close = function (menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, (menu !== undefined ? get(menu) : getOpen())];\n                case 1:\n                    menuEl = _a.sent();\n                    if (menuEl !== undefined) {\n                        return [2 /*return*/, menuEl.close()];\n                    }\n                    return [2 /*return*/, false];\n            }\n        });\n    }); };\n    var toggle = function (menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, get(menu)];\n                case 1:\n                    menuEl = _a.sent();\n                    if (menuEl) {\n                        return [2 /*return*/, menuEl.toggle()];\n                    }\n                    return [2 /*return*/, false];\n            }\n        });\n    }); };\n    var enable = function (shouldEnable, menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, get(menu)];\n                case 1:\n                    menuEl = _a.sent();\n                    if (menuEl) {\n                        menuEl.disabled = !shouldEnable;\n                    }\n                    return [2 /*return*/, menuEl];\n            }\n        });\n    }); };\n    var swipeGesture = function (shouldEnable, menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, get(menu)];\n                case 1:\n                    menuEl = _a.sent();\n                    if (menuEl) {\n                        menuEl.swipeGesture = shouldEnable;\n                    }\n                    return [2 /*return*/, menuEl];\n            }\n        });\n    }); };\n    var isOpen = function (menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl, menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(menu != null)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, get(menu)];\n                case 1:\n                    menuEl = _a.sent();\n                    return [2 /*return*/, (menuEl !== undefined && menuEl.isOpen())];\n                case 2: return [4 /*yield*/, getOpen()];\n                case 3:\n                    menuEl = _a.sent();\n                    return [2 /*return*/, menuEl !== undefined];\n            }\n        });\n    }); };\n    var isEnabled = function (menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, get(menu)];\n                case 1:\n                    menuEl = _a.sent();\n                    if (menuEl) {\n                        return [2 /*return*/, !menuEl.disabled];\n                    }\n                    return [2 /*return*/, false];\n            }\n        });\n    }); };\n    var get = function (menu) { return __awaiter(void 0, void 0, void 0, function () {\n        var menuRef, menuEl;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, waitUntilReady()];\n                case 1:\n                    _a.sent();\n                    if (menu === 'start' || menu === 'end') {\n                        menuRef = find(function (m) { return m.side === menu && !m.disabled; });\n                        if (menuRef) {\n                            return [2 /*return*/, menuRef];\n                        }\n                        // didn't find a menu side that is enabled\n                        // so try to get the first menu side found\n                        return [2 /*return*/, find(function (m) { return m.side === menu; })];\n                    }\n                    else if (menu != null) {\n                        // the menuId was not left or right\n                        // so try to get the menu by its \"id\"\n                        return [2 /*return*/, find(function (m) { return m.menuId === menu; })];\n                    }\n                    menuEl = find(function (m) { return !m.disabled; });\n                    if (menuEl) {\n                        return [2 /*return*/, menuEl];\n                    }\n                    // get the first menu in the array, if one exists\n                    return [2 /*return*/, menus.length > 0 ? menus[0].el : undefined];\n            }\n        });\n    }); };\n    /**\n     * Get the instance of the opened menu. Returns `null` if a menu is not found.\n     */\n    var getOpen = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, waitUntilReady()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, _getOpenSync()];\n            }\n        });\n    }); };\n    /**\n     * Get all menu instances.\n     */\n    var getMenus = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, waitUntilReady()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, getMenusSync()];\n            }\n        });\n    }); };\n    /**\n     * Get whether or not a menu is animating. Returns `true` if any\n     * menu is currently animating.\n     */\n    var isAnimating = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, waitUntilReady()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, isAnimatingSync()];\n            }\n        });\n    }); };\n    var registerAnimation = function (name, animation) {\n        menuAnimations.set(name, animation);\n    };\n    var _register = function (menu) {\n        if (menus.indexOf(menu) < 0) {\n            if (!menu.disabled) {\n                _setActiveMenu(menu);\n            }\n            menus.push(menu);\n        }\n    };\n    var _unregister = function (menu) {\n        var index = menus.indexOf(menu);\n        if (index > -1) {\n            menus.splice(index, 1);\n        }\n    };\n    var _setActiveMenu = function (menu) {\n        // if this menu should be enabled\n        // then find all the other menus on this same side\n        // and automatically disable other same side menus\n        var side = menu.side;\n        menus\n            .filter(function (m) { return m.side === side && m !== menu; })\n            .forEach(function (m) { return m.disabled = true; });\n    };\n    var _setOpen = function (menu, shouldOpen, animated) { return __awaiter(void 0, void 0, void 0, function () {\n        var openedMenu;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (isAnimatingSync()) {\n                        return [2 /*return*/, false];\n                    }\n                    if (!shouldOpen) return [3 /*break*/, 3];\n                    return [4 /*yield*/, getOpen()];\n                case 1:\n                    openedMenu = _a.sent();\n                    if (!(openedMenu && menu.el !== openedMenu)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, openedMenu.setOpen(false, false)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: return [2 /*return*/, menu._setOpen(shouldOpen, animated)];\n            }\n        });\n    }); };\n    var _createAnimation = function (type, menuCmp) {\n        var animationBuilder = menuAnimations.get(type);\n        if (!animationBuilder) {\n            throw new Error('animation not registered');\n        }\n        var animation = animationBuilder(menuCmp);\n        return animation;\n    };\n    var _getOpenSync = function () {\n        return find(function (m) { return m._isOpen; });\n    };\n    var getMenusSync = function () {\n        return menus.map(function (menu) { return menu.el; });\n    };\n    var isAnimatingSync = function () {\n        return menus.some(function (menu) { return menu.isAnimating; });\n    };\n    var find = function (predicate) {\n        var instance = menus.find(predicate);\n        if (instance !== undefined) {\n            return instance.el;\n        }\n        return undefined;\n    };\n    var waitUntilReady = function () {\n        return Promise.all(Array.from(document.querySelectorAll('ion-menu'))\n            .map(function (menu) { return menu.componentOnReady(); }));\n    };\n    registerAnimation('reveal', menuRevealAnimation);\n    registerAnimation('push', menuPushAnimation);\n    registerAnimation('overlay', menuOverlayAnimation);\n    return {\n        registerAnimation: registerAnimation,\n        get: get,\n        getMenus: getMenus,\n        getOpen: getOpen,\n        isEnabled: isEnabled,\n        swipeGesture: swipeGesture,\n        isAnimating: isAnimating,\n        isOpen: isOpen,\n        enable: enable,\n        toggle: toggle,\n        close: close,\n        open: open,\n        _getOpenSync: _getOpenSync,\n        _createAnimation: _createAnimation,\n        _register: _register,\n        _unregister: _unregister,\n        _setOpen: _setOpen,\n        _setActiveMenu: _setActiveMenu,\n    };\n};\nvar menuController = /*@__PURE__*/ createMenuController();\nexport { menuController as m };\n","import { __awaiter, __generator } from \"tslib\";\nvar hostContext = function (selector, el) {\n    return el.closest(selector) !== null;\n};\n/**\n * Create the mode and color classes for the component based on the classes passed in\n */\nvar createColorClasses = function (color) {\n    var _a;\n    return (typeof color === 'string' && color.length > 0) ? (_a = {\n            'ion-color': true\n        },\n        _a[\"ion-color-\" + color] = true,\n        _a) : undefined;\n};\nvar getClassList = function (classes) {\n    if (classes !== undefined) {\n        var array = Array.isArray(classes) ? classes : classes.split(' ');\n        return array\n            .filter(function (c) { return c != null; })\n            .map(function (c) { return c.trim(); })\n            .filter(function (c) { return c !== ''; });\n    }\n    return [];\n};\nvar getClassMap = function (classes) {\n    var map = {};\n    getClassList(classes).forEach(function (c) { return map[c] = true; });\n    return map;\n};\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\nvar openURL = function (url, ev, direction) { return __awaiter(void 0, void 0, void 0, function () {\n    var router;\n    return __generator(this, function (_a) {\n        if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\n            router = document.querySelector('ion-router');\n            if (router) {\n                if (ev != null) {\n                    ev.preventDefault();\n                }\n                return [2 /*return*/, router.push(url, direction)];\n            }\n        }\n        return [2 /*return*/, false];\n    });\n}); };\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\n","import { __spreadArrays } from \"tslib\";\n/**\n * Patched version of requestAnimationFrame that avoids ngzone\n * Use only when you know ngzone should not run\n */\nvar raf = function (h) {\n    if (typeof __zone_symbol__requestAnimationFrame === 'function') {\n        return __zone_symbol__requestAnimationFrame(h);\n    }\n    if (typeof requestAnimationFrame === 'function') {\n        return requestAnimationFrame(h);\n    }\n    return setTimeout(h);\n};\nvar rIC = function (callback) {\n    if ('requestIdleCallback' in window) {\n        window.requestIdleCallback(callback);\n    }\n    else {\n        setTimeout(callback, 32);\n    }\n};\nvar hasShadowDom = function (el) {\n    return !!el.shadowRoot && !!el.attachShadow;\n};\nvar findItemLabel = function (componentEl) {\n    var itemEl = componentEl.closest('ion-item');\n    if (itemEl) {\n        return itemEl.querySelector('ion-label');\n    }\n    return null;\n};\nvar renderHiddenInput = function (always, container, name, value, disabled) {\n    if (always || hasShadowDom(container)) {\n        var input = container.querySelector('input.aux-input');\n        if (!input) {\n            input = container.ownerDocument.createElement('input');\n            input.type = 'hidden';\n            input.classList.add('aux-input');\n            container.appendChild(input);\n        }\n        input.disabled = disabled;\n        input.name = name;\n        input.value = value || '';\n    }\n};\nvar clamp = function (min, n, max) {\n    return Math.max(min, Math.min(n, max));\n};\nvar assert = function (actual, reason) {\n    if (!actual) {\n        var message = 'ASSERT: ' + reason;\n        console.error(message);\n        debugger; // tslint:disable-line\n        throw new Error(message);\n    }\n};\nvar now = function (ev) {\n    return ev.timeStamp || Date.now();\n};\nvar pointerCoord = function (ev) {\n    // get X coordinates for either a mouse click\n    // or a touch depending on the given event\n    if (ev) {\n        var changedTouches = ev.changedTouches;\n        if (changedTouches && changedTouches.length > 0) {\n            var touch = changedTouches[0];\n            return { x: touch.clientX, y: touch.clientY };\n        }\n        if (ev.pageX !== undefined) {\n            return { x: ev.pageX, y: ev.pageY };\n        }\n    }\n    return { x: 0, y: 0 };\n};\n/**\n * @hidden\n * Given a side, return if it should be on the end\n * based on the value of dir\n * @param side the side\n * @param isRTL whether the application dir is rtl\n */\nvar isEndSide = function (side) {\n    var isRTL = document.dir === 'rtl';\n    switch (side) {\n        case 'start': return isRTL;\n        case 'end': return !isRTL;\n        default:\n            throw new Error(\"\\\"\" + side + \"\\\" is not a valid value for [side]. Use \\\"start\\\" or \\\"end\\\" instead.\");\n    }\n};\nvar debounceEvent = function (event, wait) {\n    var original = event._original || event;\n    return {\n        _original: event,\n        emit: debounce(original.emit.bind(original), wait)\n    };\n};\nvar debounce = function (func, wait) {\n    if (wait === void 0) { wait = 0; }\n    var timer;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timer);\n        timer = setTimeout.apply(void 0, __spreadArrays([func, wait], args));\n    };\n};\nexport { renderHiddenInput as a, rIC as b, clamp as c, debounceEvent as d, assert as e, findItemLabel as f, debounce as g, hasShadowDom as h, isEndSide as i, now as n, pointerCoord as p, raf as r };\n","var GestureController = /** @class */ (function () {\n    function GestureController() {\n        this.gestureId = 0;\n        this.requestedStart = new Map();\n        this.disabledGestures = new Map();\n        this.disabledScroll = new Set();\n    }\n    /**\n     * Creates a gesture delegate based on the GestureConfig passed\n     */\n    GestureController.prototype.createGesture = function (config) {\n        return new GestureDelegate(this, this.newID(), config.name, config.priority || 0, !!config.disableScroll);\n    };\n    /**\n     * Creates a blocker that will block any other gesture events from firing. Set in the ion-gesture component.\n     */\n    GestureController.prototype.createBlocker = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        return new BlockerDelegate(this, this.newID(), opts.disable, !!opts.disableScroll);\n    };\n    GestureController.prototype.start = function (gestureName, id, priority) {\n        if (!this.canStart(gestureName)) {\n            this.requestedStart.delete(id);\n            return false;\n        }\n        this.requestedStart.set(id, priority);\n        return true;\n    };\n    GestureController.prototype.capture = function (gestureName, id, priority) {\n        if (!this.start(gestureName, id, priority)) {\n            return false;\n        }\n        var requestedStart = this.requestedStart;\n        var maxPriority = -10000;\n        requestedStart.forEach(function (value) {\n            maxPriority = Math.max(maxPriority, value);\n        });\n        if (maxPriority === priority) {\n            this.capturedId = id;\n            requestedStart.clear();\n            var event = new CustomEvent('ionGestureCaptured', { detail: { gestureName: gestureName } });\n            document.dispatchEvent(event);\n            return true;\n        }\n        requestedStart.delete(id);\n        return false;\n    };\n    GestureController.prototype.release = function (id) {\n        this.requestedStart.delete(id);\n        if (this.capturedId === id) {\n            this.capturedId = undefined;\n        }\n    };\n    GestureController.prototype.disableGesture = function (gestureName, id) {\n        var set = this.disabledGestures.get(gestureName);\n        if (set === undefined) {\n            set = new Set();\n            this.disabledGestures.set(gestureName, set);\n        }\n        set.add(id);\n    };\n    GestureController.prototype.enableGesture = function (gestureName, id) {\n        var set = this.disabledGestures.get(gestureName);\n        if (set !== undefined) {\n            set.delete(id);\n        }\n    };\n    GestureController.prototype.disableScroll = function (id) {\n        this.disabledScroll.add(id);\n        if (this.disabledScroll.size === 1) {\n            document.body.classList.add(BACKDROP_NO_SCROLL);\n        }\n    };\n    GestureController.prototype.enableScroll = function (id) {\n        this.disabledScroll.delete(id);\n        if (this.disabledScroll.size === 0) {\n            document.body.classList.remove(BACKDROP_NO_SCROLL);\n        }\n    };\n    GestureController.prototype.canStart = function (gestureName) {\n        if (this.capturedId !== undefined) {\n            // a gesture already captured\n            return false;\n        }\n        if (this.isDisabled(gestureName)) {\n            return false;\n        }\n        return true;\n    };\n    GestureController.prototype.isCaptured = function () {\n        return this.capturedId !== undefined;\n    };\n    GestureController.prototype.isScrollDisabled = function () {\n        return this.disabledScroll.size > 0;\n    };\n    GestureController.prototype.isDisabled = function (gestureName) {\n        var disabled = this.disabledGestures.get(gestureName);\n        if (disabled && disabled.size > 0) {\n            return true;\n        }\n        return false;\n    };\n    GestureController.prototype.newID = function () {\n        this.gestureId++;\n        return this.gestureId;\n    };\n    return GestureController;\n}());\nvar GestureDelegate = /** @class */ (function () {\n    function GestureDelegate(ctrl, id, name, priority, disableScroll) {\n        this.id = id;\n        this.name = name;\n        this.disableScroll = disableScroll;\n        this.priority = priority * 1000000 + id;\n        this.ctrl = ctrl;\n    }\n    GestureDelegate.prototype.canStart = function () {\n        if (!this.ctrl) {\n            return false;\n        }\n        return this.ctrl.canStart(this.name);\n    };\n    GestureDelegate.prototype.start = function () {\n        if (!this.ctrl) {\n            return false;\n        }\n        return this.ctrl.start(this.name, this.id, this.priority);\n    };\n    GestureDelegate.prototype.capture = function () {\n        if (!this.ctrl) {\n            return false;\n        }\n        var captured = this.ctrl.capture(this.name, this.id, this.priority);\n        if (captured && this.disableScroll) {\n            this.ctrl.disableScroll(this.id);\n        }\n        return captured;\n    };\n    GestureDelegate.prototype.release = function () {\n        if (this.ctrl) {\n            this.ctrl.release(this.id);\n            if (this.disableScroll) {\n                this.ctrl.enableScroll(this.id);\n            }\n        }\n    };\n    GestureDelegate.prototype.destroy = function () {\n        this.release();\n        this.ctrl = undefined;\n    };\n    return GestureDelegate;\n}());\nvar BlockerDelegate = /** @class */ (function () {\n    function BlockerDelegate(ctrl, id, disable, disableScroll) {\n        this.id = id;\n        this.disable = disable;\n        this.disableScroll = disableScroll;\n        this.ctrl = ctrl;\n    }\n    BlockerDelegate.prototype.block = function () {\n        if (!this.ctrl) {\n            return;\n        }\n        if (this.disable) {\n            for (var _i = 0, _a = this.disable; _i < _a.length; _i++) {\n                var gesture = _a[_i];\n                this.ctrl.disableGesture(gesture, this.id);\n            }\n        }\n        if (this.disableScroll) {\n            this.ctrl.disableScroll(this.id);\n        }\n    };\n    BlockerDelegate.prototype.unblock = function () {\n        if (!this.ctrl) {\n            return;\n        }\n        if (this.disable) {\n            for (var _i = 0, _a = this.disable; _i < _a.length; _i++) {\n                var gesture = _a[_i];\n                this.ctrl.enableGesture(gesture, this.id);\n            }\n        }\n        if (this.disableScroll) {\n            this.ctrl.enableScroll(this.id);\n        }\n    };\n    BlockerDelegate.prototype.destroy = function () {\n        this.unblock();\n        this.ctrl = undefined;\n    };\n    return BlockerDelegate;\n}());\nvar BACKDROP_NO_SCROLL = 'backdrop-no-scroll';\nvar GESTURE_CONTROLLER = new GestureController();\nvar addEventListener = function (el, eventName, callback, opts) {\n    // use event listener options when supported\n    // otherwise it's just a boolean for the \"capture\" arg\n    var listenerOpts = supportsPassive(el) ? {\n        'capture': !!opts.capture,\n        'passive': !!opts.passive,\n    } : !!opts.capture;\n    var add;\n    var remove;\n    if (el['__zone_symbol__addEventListener']) {\n        add = '__zone_symbol__addEventListener';\n        remove = '__zone_symbol__removeEventListener';\n    }\n    else {\n        add = 'addEventListener';\n        remove = 'removeEventListener';\n    }\n    el[add](eventName, callback, listenerOpts);\n    return function () {\n        el[remove](eventName, callback, listenerOpts);\n    };\n};\nvar supportsPassive = function (node) {\n    if (_sPassive === undefined) {\n        try {\n            var opts = Object.defineProperty({}, 'passive', {\n                get: function () {\n                    _sPassive = true;\n                }\n            });\n            node.addEventListener('optsTest', function () { return; }, opts);\n        }\n        catch (e) {\n            _sPassive = false;\n        }\n    }\n    return !!_sPassive;\n};\nvar _sPassive;\nvar MOUSE_WAIT = 2000;\nvar createPointerEvents = function (el, pointerDown, pointerMove, pointerUp, options) {\n    var rmTouchStart;\n    var rmTouchMove;\n    var rmTouchEnd;\n    var rmTouchCancel;\n    var rmMouseStart;\n    var rmMouseMove;\n    var rmMouseUp;\n    var lastTouchEvent = 0;\n    var handleTouchStart = function (ev) {\n        lastTouchEvent = Date.now() + MOUSE_WAIT;\n        if (!pointerDown(ev)) {\n            return;\n        }\n        if (!rmTouchMove && pointerMove) {\n            rmTouchMove = addEventListener(el, 'touchmove', pointerMove, options);\n        }\n        if (!rmTouchEnd) {\n            rmTouchEnd = addEventListener(el, 'touchend', handleTouchEnd, options);\n        }\n        if (!rmTouchCancel) {\n            rmTouchCancel = addEventListener(el, 'touchcancel', handleTouchEnd, options);\n        }\n    };\n    var handleMouseDown = function (ev) {\n        if (lastTouchEvent > Date.now()) {\n            return;\n        }\n        if (!pointerDown(ev)) {\n            return;\n        }\n        if (!rmMouseMove && pointerMove) {\n            rmMouseMove = addEventListener(getDocument(el), 'mousemove', pointerMove, options);\n        }\n        if (!rmMouseUp) {\n            rmMouseUp = addEventListener(getDocument(el), 'mouseup', handleMouseUp, options);\n        }\n    };\n    var handleTouchEnd = function (ev) {\n        stopTouch();\n        if (pointerUp) {\n            pointerUp(ev);\n        }\n    };\n    var handleMouseUp = function (ev) {\n        stopMouse();\n        if (pointerUp) {\n            pointerUp(ev);\n        }\n    };\n    var stopTouch = function () {\n        if (rmTouchMove) {\n            rmTouchMove();\n        }\n        if (rmTouchEnd) {\n            rmTouchEnd();\n        }\n        if (rmTouchCancel) {\n            rmTouchCancel();\n        }\n        rmTouchMove = rmTouchEnd = rmTouchCancel = undefined;\n    };\n    var stopMouse = function () {\n        if (rmMouseMove) {\n            rmMouseMove();\n        }\n        if (rmMouseUp) {\n            rmMouseUp();\n        }\n        rmMouseMove = rmMouseUp = undefined;\n    };\n    var stop = function () {\n        stopTouch();\n        stopMouse();\n    };\n    var setDisabled = function (disabled) {\n        if (disabled) {\n            if (rmTouchStart) {\n                rmTouchStart();\n            }\n            if (rmMouseStart) {\n                rmMouseStart();\n            }\n            rmTouchStart = rmMouseStart = undefined;\n            stop();\n        }\n        else {\n            if (!rmTouchStart) {\n                rmTouchStart = addEventListener(el, 'touchstart', handleTouchStart, options);\n            }\n            if (!rmMouseStart) {\n                rmMouseStart = addEventListener(el, 'mousedown', handleMouseDown, options);\n            }\n        }\n    };\n    var destroy = function () {\n        setDisabled(true);\n        pointerUp = pointerMove = pointerDown = undefined;\n    };\n    return {\n        setDisabled: setDisabled,\n        stop: stop,\n        destroy: destroy\n    };\n};\nvar getDocument = function (node) {\n    return node instanceof Document ? node : node.ownerDocument;\n};\nvar createPanRecognizer = function (direction, thresh, maxAngle) {\n    var radians = maxAngle * (Math.PI / 180);\n    var isDirX = direction === 'x';\n    var maxCosine = Math.cos(radians);\n    var threshold = thresh * thresh;\n    var startX = 0;\n    var startY = 0;\n    var dirty = false;\n    var isPan = 0;\n    return {\n        start: function (x, y) {\n            startX = x;\n            startY = y;\n            isPan = 0;\n            dirty = true;\n        },\n        detect: function (x, y) {\n            if (!dirty) {\n                return false;\n            }\n            var deltaX = (x - startX);\n            var deltaY = (y - startY);\n            var distance = deltaX * deltaX + deltaY * deltaY;\n            if (distance < threshold) {\n                return false;\n            }\n            var hypotenuse = Math.sqrt(distance);\n            var cosine = (isDirX ? deltaX : deltaY) / hypotenuse;\n            if (cosine > maxCosine) {\n                isPan = 1;\n            }\n            else if (cosine < -maxCosine) {\n                isPan = -1;\n            }\n            else {\n                isPan = 0;\n            }\n            dirty = false;\n            return true;\n        },\n        isGesture: function () {\n            return isPan !== 0;\n        },\n        getDirection: function () {\n            return isPan;\n        }\n    };\n};\nvar createGesture = function (config) {\n    var hasCapturedPan = false;\n    var hasStartedPan = false;\n    var hasFiredStart = true;\n    var isMoveQueued = false;\n    var finalConfig = Object.assign({ disableScroll: false, direction: 'x', gesturePriority: 0, passive: true, maxAngle: 40, threshold: 10 }, config);\n    var canStart = finalConfig.canStart;\n    var onWillStart = finalConfig.onWillStart;\n    var onStart = finalConfig.onStart;\n    var onEnd = finalConfig.onEnd;\n    var notCaptured = finalConfig.notCaptured;\n    var onMove = finalConfig.onMove;\n    var threshold = finalConfig.threshold;\n    var detail = {\n        type: 'pan',\n        startX: 0,\n        startY: 0,\n        startTimeStamp: 0,\n        currentX: 0,\n        currentY: 0,\n        velocityX: 0,\n        velocityY: 0,\n        deltaX: 0,\n        deltaY: 0,\n        timeStamp: 0,\n        event: undefined,\n        data: undefined\n    };\n    var pan = createPanRecognizer(finalConfig.direction, finalConfig.threshold, finalConfig.maxAngle);\n    var gesture = GESTURE_CONTROLLER.createGesture({\n        name: config.gestureName,\n        priority: config.gesturePriority,\n        disableScroll: config.disableScroll\n    });\n    var pointerDown = function (ev) {\n        var timeStamp = now(ev);\n        if (hasStartedPan || !hasFiredStart) {\n            return false;\n        }\n        updateDetail(ev, detail);\n        detail.startX = detail.currentX;\n        detail.startY = detail.currentY;\n        detail.startTimeStamp = detail.timeStamp = timeStamp;\n        detail.velocityX = detail.velocityY = detail.deltaX = detail.deltaY = 0;\n        detail.event = ev;\n        // Check if gesture can start\n        if (canStart && canStart(detail) === false) {\n            return false;\n        }\n        // Release fallback\n        gesture.release();\n        // Start gesture\n        if (!gesture.start()) {\n            return false;\n        }\n        hasStartedPan = true;\n        if (threshold === 0) {\n            return tryToCapturePan();\n        }\n        pan.start(detail.startX, detail.startY);\n        return true;\n    };\n    var pointerMove = function (ev) {\n        // fast path, if gesture is currently captured\n        // do minimum job to get user-land even dispatched\n        if (hasCapturedPan) {\n            if (!isMoveQueued && hasFiredStart) {\n                isMoveQueued = true;\n                calcGestureData(detail, ev);\n                requestAnimationFrame(fireOnMove);\n            }\n            return;\n        }\n        // gesture is currently being detected\n        calcGestureData(detail, ev);\n        if (pan.detect(detail.currentX, detail.currentY)) {\n            if (!pan.isGesture() || !tryToCapturePan()) {\n                abortGesture();\n            }\n        }\n    };\n    var fireOnMove = function () {\n        // Since fireOnMove is called inside a RAF, onEnd() might be called,\n        // we must double check hasCapturedPan\n        if (!hasCapturedPan) {\n            return;\n        }\n        isMoveQueued = false;\n        if (onMove) {\n            onMove(detail);\n        }\n    };\n    var tryToCapturePan = function () {\n        if (gesture && !gesture.capture()) {\n            return false;\n        }\n        hasCapturedPan = true;\n        hasFiredStart = false;\n        // reset start position since the real user-land event starts here\n        // If the pan detector threshold is big, not resetting the start position\n        // will cause a jump in the animation equal to the detector threshold.\n        // the array of positions used to calculate the gesture velocity does not\n        // need to be cleaned, more points in the positions array always results in a\n        // more accurate value of the velocity.\n        detail.startX = detail.currentX;\n        detail.startY = detail.currentY;\n        detail.startTimeStamp = detail.timeStamp;\n        if (onWillStart) {\n            onWillStart(detail).then(fireOnStart);\n        }\n        else {\n            fireOnStart();\n        }\n        return true;\n    };\n    var fireOnStart = function () {\n        if (onStart) {\n            onStart(detail);\n        }\n        hasFiredStart = true;\n    };\n    var reset = function () {\n        hasCapturedPan = false;\n        hasStartedPan = false;\n        isMoveQueued = false;\n        hasFiredStart = true;\n        gesture.release();\n    };\n    // END *************************\n    var pointerUp = function (ev) {\n        var tmpHasCaptured = hasCapturedPan;\n        var tmpHasFiredStart = hasFiredStart;\n        reset();\n        if (!tmpHasFiredStart) {\n            return;\n        }\n        calcGestureData(detail, ev);\n        // Try to capture press\n        if (tmpHasCaptured) {\n            if (onEnd) {\n                onEnd(detail);\n            }\n            return;\n        }\n        // Not captured any event\n        if (notCaptured) {\n            notCaptured(detail);\n        }\n    };\n    var pointerEvents = createPointerEvents(finalConfig.el, pointerDown, pointerMove, pointerUp, {\n        capture: false,\n    });\n    var abortGesture = function () {\n        reset();\n        pointerEvents.stop();\n        if (notCaptured) {\n            notCaptured(detail);\n        }\n    };\n    return {\n        setDisabled: function (disabled) {\n            if (disabled && hasCapturedPan) {\n                pointerUp(undefined);\n            }\n            pointerEvents.setDisabled(disabled);\n        },\n        destroy: function () {\n            gesture.destroy();\n            pointerEvents.destroy();\n        }\n    };\n};\nvar calcGestureData = function (detail, ev) {\n    if (!ev) {\n        return;\n    }\n    var prevX = detail.currentX;\n    var prevY = detail.currentY;\n    var prevT = detail.timeStamp;\n    updateDetail(ev, detail);\n    var currentX = detail.currentX;\n    var currentY = detail.currentY;\n    var timestamp = detail.timeStamp = now(ev);\n    var timeDelta = timestamp - prevT;\n    if (timeDelta > 0 && timeDelta < 100) {\n        var velocityX = (currentX - prevX) / timeDelta;\n        var velocityY = (currentY - prevY) / timeDelta;\n        detail.velocityX = velocityX * 0.7 + detail.velocityX * 0.3;\n        detail.velocityY = velocityY * 0.7 + detail.velocityY * 0.3;\n    }\n    detail.deltaX = currentX - detail.startX;\n    detail.deltaY = currentY - detail.startY;\n    detail.event = ev;\n};\nvar updateDetail = function (ev, detail) {\n    // get X coordinates for either a mouse click\n    // or a touch depending on the given event\n    var x = 0;\n    var y = 0;\n    if (ev) {\n        var changedTouches = ev.changedTouches;\n        if (changedTouches && changedTouches.length > 0) {\n            var touch = changedTouches[0];\n            x = touch.clientX;\n            y = touch.clientY;\n        }\n        else if (ev.pageX !== undefined) {\n            x = ev.pageX;\n            y = ev.pageY;\n        }\n    }\n    detail.currentX = x;\n    detail.currentY = y;\n};\nvar now = function (ev) {\n    return ev.timeStamp || Date.now();\n};\nexport { GESTURE_CONTROLLER, createGesture };\n"],"sourceRoot":""}